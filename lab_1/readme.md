## –ú–∞—Ö–æ–±–µ–π –í–ª–∞–¥–∏—Å–ª–∞–≤ –Ü–ü–ó-32

## üìñ –û–ø–∏—Å

–ü–∞–∫–µ—Ç `library_api` —Ä–µ–∞–ª—ñ–∑—É—î –ø—Ä–æ—Å—Ç–∏–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –∫–æ–ª–µ–∫—Ü—ñ—î—é –∫–Ω–∏–≥ (—Å—É—Ç–Ω—ñ—Å—Ç—å `Book`). –î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ñ–π –ø–∞–º'—è—Ç—ñ —É –≤–∏–≥–ª—è–¥—ñ —Å–ø–∏—Å–∫—É —Å–ª–æ–≤–Ω–∏–∫—ñ–≤ (`List[Dict]`). –î–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ **marshmallow**.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
library_api/
‚îú‚îÄ‚îÄ setup.py
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ README.md       # —Ü–µ–π —Ñ–∞–π–ª
‚îî‚îÄ‚îÄ library_api/
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îú‚îÄ‚îÄ app.py      # –æ—Å–Ω–æ–≤–Ω–∏–π –∫–æ–¥ Flask-–¥–æ–¥–∞—Ç–∫—É
    ‚îî‚îÄ‚îÄ schemas.py  # –æ–ø–∏—Å marshmallow-—Å—Ö–µ–º–∏ –¥–ª—è Book
```

---

## ‚öôÔ∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é:

   ```bash
   git clone <URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é>
   cd library_api
   ```

2. –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ –æ—Ç–æ—á–µ–Ω–Ω—è:

   ```bash
   python3 -m venv venv
   source venv/bin/activate   # Linux/macOS
   venv\\Scripts\\activate    # Windows
   ```

3. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π:

   ```bash
   pip install .
   ```

---

## üöÄ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

–ü—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –º–æ–∂–Ω–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ API –¥–≤–æ–º–∞ —Å–ø–æ—Å–æ–±–∞–º–∏:

* –ß–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å–Ω–∏–π —Å–∫—Ä–∏–ø—Ç:

  ```bash
  run-library-api
  ```
* –ê–±–æ –±–µ–∑ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞–∫–µ—Ç–∞:

  ```bash
  python -m library_api.app
  ```

–°–µ—Ä–≤–µ—Ä —Å–ª—É—Ö–∞—î –ø–æ—Ä—Ç **5000** –∑–∞ –∞–¥—Ä–µ—Å–æ—é `http://localhost:5000`.

---

## üõ† –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏ API

| –ú–µ—Ç–æ–¥  | –®–ª—è—Ö          | –û–ø–∏—Å                           |
| ------ | ------------- | ------------------------------ |
| GET    | `/books`      | –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –∫–Ω–∏–≥      |
| GET    | `/books/{id}` | –û—Ç—Ä–∏–º–∞—Ç–∏ –æ–¥–Ω—É –∫–Ω–∏–≥—É –∑–∞ —ó—ó `id` |
| POST   | `/books`      | –î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –∫–Ω–∏–≥—É              |
| DELETE | `/books/{id}` | –í–∏–¥–∞–ª–∏—Ç–∏ –∫–Ω–∏–≥—É –∑–∞ —ó—ó `id`      |

### GET /books

* **–í—ñ–¥–ø–æ–≤—ñ–¥—å (200)**: –º–∞—Å–∏–≤ –æ–±'—î–∫—Ç—ñ–≤ `Book`.

### GET /books/{id}

* **–ü–∞—Ä–∞–º–µ—Ç—Ä**: `id` (UUID —Ä—è–¥–∫–æ–º)
* **–í—ñ–¥–ø–æ–≤—ñ–¥—å (200)**: –æ–±'—î–∫—Ç `Book`
* **–ü–æ–º–∏–ª–∫–∞ (404)**: `{ "message": "Book not found" }`

### POST /books

* **–¢—ñ–ª–æ –∑–∞–ø–∏—Ç—É** (JSON):

  ```json
  {
    "title": "–ù–∞–∑–≤–∞ –∫–Ω–∏–≥–∏",
    "author": "–ê–≤—Ç–æ—Ä –∫–Ω–∏–≥–∏",
    "published_year": 2020
  }
  ```
* **–í–∞–ª—ñ–¥–∞—Ü—ñ—è**:

  * `title` —Ç–∞ `author`: –Ω–µ–ø–æ—Ä–æ–∂–Ω—ñ —Ä—è–¥–∫–∏.
  * `published_year`: —Ü—ñ–ª–µ —á–∏—Å–ª–æ –≤—ñ–¥ 0 –¥–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Ä–æ–∫—É.
* **–í—ñ–¥–ø–æ–≤—ñ–¥—å (201)**: —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –æ–±'—î–∫—Ç `Book` –∑ –ø–æ–ª–µ–º `id`.
* **–ü–æ–º–∏–ª–∫–∞ (400)**: –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤—ñ–¥ marshmallow.

### DELETE /books/{id}

* **–ü–∞—Ä–∞–º–µ—Ç—Ä**: `id` (UUID —Ä—è–¥–∫–æ–º)
* **–í—ñ–¥–ø–æ–≤—ñ–¥—å (204)**: –±–µ–∑ —Ç—ñ–ª–∞
* **–ü–æ–º–∏–ª–∫–∞ (404)**: `{ "message": "Book not found" }`

---

## üì¶ –ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤ (curl)

* **–û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –∫–Ω–∏–≥–∏**:

  ```bash
  curl http://localhost:5000/books
  ```

* **–î–æ–¥–∞—Ç–∏ –∫–Ω–∏–≥—É**:

  ```bash
  curl -X POST http://localhost:5000/books \
       -H "Content-Type: application/json" \
       -d '{"title":"1984","author":"George Orwell","published_year":1949}'
  ```

* **–û—Ç—Ä–∏–º–∞—Ç–∏ –∫–Ω–∏–≥—É –∑–∞ ID**:

  ```bash
  curl http://localhost:5000/books/<ID_–∫–Ω–∏–≥–∏>
  ```

* **–í–∏–¥–∞–ª–∏—Ç–∏ –∫–Ω–∏–≥—É**:

  ```bash
  curl -X DELETE http://localhost:5000/books/<ID_–∫–Ω–∏–≥–∏>
  ```

---

